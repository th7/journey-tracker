<div class="main-container">
	<h1>Add a trip</h1>
	<%= form_for @trip do |f| %>
		<%= f.label :name, "Trip Name" %>
		<%= f.text_field :name, :placeholder => 'e.g., Road Trip 2013' %>
    <%= f.label :location, "Start Location" %>
    <%= f.text_field :location, :placeholder => 'e.g., Barcelona' %>
		<%= f.label :start, "Start Date"  %>
	  <%= f.text_field :start, :class => 'datepicker'  %>
	  <%= f.label :end, "End Date"  %>
	  <%= f.text_field :end, :class => 'datepicker'  %>
		<%= f.submit %>
	<% end %>

</div>

<script>
$(document).ready(function(){
  $('#new_trip').on('submit', function (event) {
     var tripName = $("#trip_name");
     var tripLocation = $('#trip_location');
     var tripStart = new Date($('#trip_start').val());
     var tripEnd = new Date($('#trip_end').val());
     if (tripStart.getTime() > tripEnd.getTime()) {
         event.preventDefault();
         alert('Your end date must be after your start date');
     }
     if (tripName.val().length > 50) {
         event.preventDefault();
         alert('Choose a shorter name for your trip.');
     }
     if (tripLocation.val().length > 50) {
         alert('Choose a shorter name for the location.');
         event.preventDefault();
     }
 });

});
  $(function () {
    $(".datepicker").datepicker({
        dateFormat: 'yy-mm-dd'
    });
 


});
</script>